<!DOCTYPE html>
<html>
<head>
    <title>Search Page</title>
</head>
<body>
<h1>Search Page</h1>
<form action="/search" method="get">
    <label for="keyword">Keyword:</label>
    <input type="text" id="keyword" name="keyword" th:value="${keyword != null ? keyword : ''}" th:attr="placeholder=${keyword != null ? '' : 'Search for products...'}">
    <input type="submit" value="Search">
</form>


<div th:if="${listProducts}">

    <div class="container-fluid">

        <div>
            <nav class="navbar navbar-expand-lg navbar-dark">
                <a class="navbar-brand" th:href="@{/}">
                    <img th:src="@{/images/TR.png }">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#topNavBar">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="topNavBar">
                    <ul class="navbar-nav">


                    </ul>

                </div>
            </nav>
        </div>
    </div>
    <div class="row">
        <div class="col-sm">
            <div>
                <img th:src="@{/images/StockComputer.jpg}" style="width: 200px; height: 200px;">
            </div>
        </div>
        <div class="col-sm">
            <div>
                <h2>[[${product.name}]]</h2>
            </div>
            <div>
                <span>Category: [[${product.category.name}]]</span>
            </div>
            <div>
                <span>Price: $ [[${product.price}]]</span>
            </div>
        </div>
        <div class="col-sm-7">
            <div>
                <span th:if="${product.inStock}" class="text-success"><b>In Stock</b></span>
                <span th:unless="${product.inStock}" class="text-danger"><b>Out of Stock</b></span>
            </div>
            <div>
                <nav>
                    <ul class="pagination">
                        <li class="page-item">
                            <a class="page-link linkMinus" th:pid="${product.productid}" href=""><b>-</b></a>
                        </li>
                        <li class="page-item">
                            <input type="text" th:value="1" th:id="'quantity' + ${product.productid}" onkeydown="return false;" class="form-control text-center"
                                   style="width: 55px">
                        </li>
                        <li class="page-item">
                            <a class="page-link linkPlus" th:pid="${product.productid}" href=""><b>+</b></a>
                        </li>
                    </ul>
                </nav>

            </div>
            <th:block th:if="${product.inStock}">
                <div class="mt-3">
                    <form method="POST" th:action="@{/basket/add/{productId}(productId=${product.productid})}">
                        <input type="hidden" name="productId" th:value="${product.productid}">
                        <input type="number" name="quantity" th:value="1" min="1">
                        <input type="hidden" name="userId" th:value="${user.userid}">
                        <button type="submit" class="btn btn-primary">Add to Cart</button>
                    </form>
                </div>
            </th:block>
        </div>

    </div>
</div>

</body>
</html>